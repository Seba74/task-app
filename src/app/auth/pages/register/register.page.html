<ion-content [fullscreen]="true">
  <ion-toolbar>
    <ion-back-button slot="start" defaultHref="/login"></ion-back-button>
  </ion-toolbar>

  <div class="bg-container"></div>

  <ion-title class="pt-2 pl-5">
    <h2 class="text-lg">Crea una cuenta!</h2>
  </ion-title>

  <div class="register-content">
    <form
      [formGroup]="registerForm"
      (ngSubmit)="register()"
      class="form-container"
    >
      <ion-input
        label="Nombre"
        labelPlacement="floating"
        color="primary"
        type="text"
        formControlName="name"
        class="text-lg"
        pattern="^[a-zA-Z ]*$"
        inputmode="text"
        autocomplete="name"
      ></ion-input>
      <ion-input
        label="Apellido"
        labelPlacement="floating"
        type="text"
        formControlName="lastname"
        class="text-lg"
        pattern="^[a-zA-Z ]*$"
        inputmode="text"
        autocomplete="family-name"
      ></ion-input>
      <ion-input
        label="Usuario"
        labelPlacement="floating"
        type="text"
        formControlName="username"
        class="text-lg"
        pattern="^[a-zA-Z0-9]*$"
        inputmode="text"
        autocomplete="username"
      ></ion-input>
      <ion-input
        label="Correo"
        labelPlacement="floating"
        type="email"
        formControlName="email"
        class="text-lg"
        inputmode="email"
        autocomplete="email"
      ></ion-input>
      <ion-input
        label="Contraseña"
        labelPlacement="floating"
        type="password"
        class="text-lg"
        formControlName="password"
        pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$"
        inputmode="text"
        errorText="debe tener al menos una mayúscula, una minúscula y un número"
        autocomplete="new-password"
      ></ion-input>
      <ion-input
        label="Repetir contraseña"
        labelPlacement="floating"
        class="text-lg"
        type="password"
        formControlName="password2"
        inputmode="text"
        autocomplete="new-password"
      ></ion-input>

      <ion-button
        type="submit"
        shape="round"
        color="main"
        [disabled]="!registerForm.valid"
        class="btn-login text-2xl"
        >Registrarse</ion-button
      >
    </form>
  </div>

  <ion-toast
    [isOpen]="isToastOpen"
    [message]="error"
    [duration]="2000"
    [cssClass]="'toast-error'"
    [icon]="'close-circle-outline'"
    [position]="'top'"
    [mode]="'ios'"
    (didDismiss)="setOpen(false)"
  ></ion-toast>
</ion-content>
